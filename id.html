<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>IDS</title>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/crypto-js/4.1.1/crypto-js.min.js"></script>
    <style>
        body {
            margin: 0;
            padding: 0;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            background-color: #f0f0f0;
            font-family: Arial, sans-serif;
        }

        .button-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
        }

        .btn {
            padding: 15px 40px;
            background: #000;
            color: white;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-size: 16px;
            transition: all 0.3s;
            min-width: 120px;
        }

        .btn:hover {
            opacity: 0.9;
            transform: translateY(-2px);
        }

        #result {
            display: none; /* 初始隐藏 */
            max-width: 90%;
            padding: 20px;
            background-color: #f0f0f0; /* 与背景同色 */
            border-radius: 8px;
            word-break: break-all;
            text-align: center;
            color: #333;
        }

        .input-box {
            padding: 12px 20px;
            border: 2px solid #000;
            border-radius: 8px;
            width: 200px;
            margin-left: 10px;
            outline: none;
        }

        @media (max-width: 480px) {
            .button-container {
                flex-direction: column;
                gap: 15px;
            }
            
            .btn {
                padding: 12px 30px;
                font-size: 14px;
            }

            .input-box {
                width: 100%;
                margin: 10px 0 0 0;
            }
        }
        </style>
</head>
<body>
<div class="button-container">
  <button class="btn" id="b1_9x3">Readfile</button>
  <button class="btn" id="b2_8y4">Decrypt</button>
</div>
<div id="result"></div>

<script>
(function(){ // 立即执行函数包裹
const _0x=(n,t)=>(n^t).toString(16), // 混淆核心函数
_0x1e2d = [0x78,0b1101001,0o141,105,99,0x63],
_0x8c3f = [()=>String.fromCharCode(..._0x1e2d), // 动态生成密钥
           'AES','result','click','text','split','\n'];

let _0xd4a7 = null;

function _0xb5c2(fn) { // 反调试保护
  const _0xec = new RegExp(fn);
  return _0xec.test(document.scripts.innerHTML) ? 
    (setInterval(()=>{debugger},2000),!0) : !1;
}
_0xb5c2('debugger');

async function _0x9e1d() { // 原handleReadFile
  try {
    const _0x3a = await fetch(atob('aWRzLnR4dA==')),
          _0x87 = await _0x3a‌:ml-search[_0x8c3f];
    for(let _0x5d of _0x87[_0x8c3f](_0x8c3f)
      .filter(x=>x.trim())) {
      if(Math‌:ml-search[_0x8c3f] > 0.9) {
        _0xd4a7 = CryptoJS[_0x8c3f].encrypt(
          _0x5d, 
          _0x8c3f().repeat(2).slice(0,6) // 动态构造密钥
        ).toString();
        break;
      }
    }
    _0x4a21(_0xd4a7);
  } catch(e) {
    _0x4a21(`ERROR:${e.message}`);
  }
}

function _0x7f3a() { // 原createDecryptInput
  if(!_0xd4a7) return _0x4a21(atob('6K+35q2j6ZiF5a6i5oiQ5Yay5Zyo'));
  
  const _0xeb = document.createElement('input');
  _0xeb.className = [0x69,0x6e,0x70,0x75,0x74].map(x=>
    String.fromCharCode(x)).join('') + '-box';
  _0xeb.placeholder = '🔑' + '输入密钥'.split('').reverse().join('');
  _0xeb.type = ['pass','word'].join('');
  _0xeb.onkeyup = e => e.key === 'Enter' && _0x2c9d(e.target.value);
  
  document.querySelector('.button-container').appendChild(_0xeb);
}

function _0x2c9d(k) { // 原handleDecrypt
  try {
    const _0xcf = CryptoJS[_0x8c3f].decrypt(_0xd4a7,k),
          _0x6b = _0xcf.toString(CryptoJS.enc.Utf8);
    _0x4a21(_0x6b ? new TextDecoder().decode(
      Uint8Array.from(atob(_0x6b),m=>m.charCodeAt(0))
    ) : '❌ 解密失败');
  } catch(e) {
    _0x4a21(`🚫 ${e.message}`);
  }
}

function _0x4a21(t) { // 原showResult
  document.getElementById(_0x8c3f).innerHTML = t;
}

// 动态事件绑定
window[String.fromCharCode(111,110)+'load']=()=>{
  document.getElementById('b1_9x3')[on+_0x8c3f] = _0x9e1d;
  document.getElementById('b2_8y4')['on'+_0x8c3f] = _0x7f3a;
};

})(); // 立即执行函数结束
</script>

</body>
</html>
